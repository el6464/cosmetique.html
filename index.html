<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Site e-commerce</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
  .tab { padding: 10px 20px; cursor: pointer; background:#eee; border:none; margin-right:4px; }
  .tab[aria-selected="true"] { background:#ccc; }
  .tab-panel { display:none; padding:20px; }
  .tab-panel.active { display:block; }
  .btn-buy { padding:6px 12px; background:#000; color:#fff; border:none; border-radius:5px; cursor:pointer; }
</style>
</head>
<body>

<!-- Onglets -->
<div style="text-align:center; margin:20px;">
  <button class="tab" data-tab="produits" role="tab" aria-selected="true">Produits</button>
  <button class="tab" data-tab="panier" role="tab" aria-selected="false">Panier</button>
</div>

<!-- Produits -->
<section id="produits" class="tab-panel active">
  <h2 style="text-align:center;">üõçÔ∏è Nos Produits</h2>
  <div style="max-width:800px; margin:0 auto;">
    <div style="margin-bottom:12px;">
      <span>Produit A - 10‚Ç¨</span>
      <button class="btn-buy" data-nom="Produit A" data-prix="10">Ajouter</button>
    </div>
    <div style="margin-bottom:12px;">
      <span>Produit B - 15‚Ç¨</span>
      <button class="btn-buy" data-nom="Produit B" data-prix="15">Ajouter</button>
    </div>
    <div style="margin-bottom:12px;">
      <span>Produit C - 20‚Ç¨</span>
      <button class="btn-buy" data-nom="Produit C" data-prix="20">Ajouter</button>
    </div>
  </div>
</section>

<!-- Panier -->
<section id="panier" class="tab-panel">
  <h2 style="text-align:center;">üõí Votre Panier</h2>
  <div id="panier-contenu" style="max-width:800px; margin:0 auto; padding:20px;"></div>
  <div style="text-align:center; margin-top:20px;">
    <button id="vider-panier" style="padding:10px 20px; margin-right:10px; border-radius:8px; background:#e8b89b; border:none; cursor:pointer;">Vider le panier</button>
    <button id="valider-panier" style="padding:10px 20px; border-radius:8px; background:#000; color:#fff; border:none; cursor:pointer;">Valider la commande</button>
  </div>
</section>

<script>
// Gestion onglets
document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.tab').forEach(t => t.setAttribute('aria-selected','false'));
    tab.setAttribute('aria-selected','true');
    document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
    document.getElementById(tab.dataset.tab).classList.add('active');
  });
});

// Panier en m√©moire
let panier = {};

// Ajouter au panier
function ajouterPanier(nom, prix) {
  if (panier[nom]) panier[nom].quantite++;
  else panier[nom] = {prix: prix, quantite:1};
  afficherPanier();
  console.log("Produit ajout√© :", nom, prix);
}

// Afficher le panier
function afficherPanier() {
  const container = document.getElementById('panier-contenu');
  container.innerHTML = '';
  let total = 0;

  if (Object.keys(panier).length === 0) {
    container.innerHTML = "<p>Votre panier est vide.</p>";
    return;
  }

  for (let nom in panier) {
    let item = panier[nom];
    total += item.prix * item.quantite;

    let div = document.createElement('div');
    div.style.display = "flex";
    div.style.justifyContent = "space-between";
    div.style.alignItems = "center";
    div.style.marginBottom = "12px";
    div.innerHTML = `
      <span style="flex:1;">${nom}</span>
      <span>${item.prix.toFixed(2)} ‚Ç¨</span>
      <div>
        <button class="quantite-btn" data-nom="${nom}" data-action="moins">‚Äì</button>
        <span style="margin:0 8px;">${item.quantite}</span>
        <button class="quantite-btn" data-nom="${nom}" data-action="plus">+</button>
      </div>
      <button class="supprimer-btn" data-nom="${nom}" style="margin-left:12px;">‚ùå</button>
    `;
    container.appendChild(div);
  }

  let totalDiv = document.createElement('div');
  totalDiv.style.textAlign = "right";
  totalDiv.style.marginTop = "20px";
  totalDiv.innerHTML = `<strong>Total: ${total.toFixed(2)} ‚Ç¨</strong>`;
  container.appendChild(totalDiv);

  // + / ‚Äì boutons
  document.querySelectorAll('.quantite-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      let nom = btn.dataset.nom;
      let action = btn.dataset.action;
      if (action === "plus") panier[nom].quantite++;
      if (action === "moins") {
        panier[nom].quantite--;
        if (panier[nom].quantite <= 0) delete panier[nom];
      }
      afficherPanier();
    });
  });

  // Supprimer produit
  document.querySelectorAll('.supprimer-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      let nom = btn.dataset.nom;
      delete panier[nom];
      afficherPanier();
    });
  });
}

// Vider panier
document.getElementById('vider-panier').addEventListener('click', () => {
  panier = {};
  afficherPanier();
});

// Valider commande
document.getElementById('valider-panier').addEventListener('click', () => {
  if (Object.keys(panier).length === 0) {
    alert("Votre panier est vide !");
    return;
  }
  let commande = "R√©sum√© de votre commande:\n\n";
  let total = 0;
  for (let nom in panier) {
    let item = panier[nom];
    total += item.prix * item.quantite;
    commande += `${nom} x${item.quantite} = ${(item.prix*item.quantite).toFixed(2)} ‚Ç¨\n`;
  }
  commande += `\nTotal: ${total.toFixed(2)} ‚Ç¨`;
  alert(commande);
  console.log("Commande envoy√©e :", commande);
  panier = {};
  afficherPanier();
});

// Boutons Ajouter des produits
document.querySelectorAll('.btn-buy').forEach(btn => {
  btn.addEventListener('click', function(e){
    e.preventDefault();
    let nom = btn.dataset.nom;
    let prix = parseFloat(btn.dataset.prix);
    ajouterPanier(nom, prix);
  });
});

// Initialiser affichage
afficherPanier();
</script>

</body>
</html>
